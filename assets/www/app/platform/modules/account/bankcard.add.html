<ion-view hide-tabs="false" view-title="添加银行卡" cache-view="false">
    <ion-nav-bar class="bar-dblue">
        <ion-nav-buttons side="left">
            <button class="button button-clear icon iconfont icon-jiantou-left-copy" ng-click="goNativeBack('tab.manage-bankcard-list')"></button>
        </ion-nav-buttons>
    </ion-nav-bar>
    <ion-content class="bg-color">
        <div class="list">
            <label class="item item-input">
                <span class="input-label" style="font-weight: normal">持卡人</span>
                <div>{{vm.name}}</div>
            </label>
            <div class="item item-input item-icon-right write">
                <span class="input-label" style="font-weight: normal">卡号</span>
                <input type="text"
                       placeholder="本人银行卡号"
                       ng-keyup="writeClear($event, 'write');vm.inputCard()"
                       ng-focus="writeClear($event, 'write')"
                       ng-blur="writeBlur($event, 'write')"
                       ng-model="vm.model.bankCard">
                <i class="icon ion-close-circled input-del-bankCard" style="padding-top: 3px;right: -5px;font-size: 15px;" ng-click="vm.model.bankCard=''"></i>
            </div>
            <div class="item item-gap" style="border: 0.5px solid #DDDDDD"></div>
            <label class="item item-input item-select">
                <div class="input-label" style="font-weight: normal">所属银行</div>
                <select ng-model="vm.model.bankCode" ng-change="vm.bankChanged()">
                    <option value="" ng-selected="bank.id == ''">请选择</option>
                    <option value="{{bank.bankCode}}" ng-repeat="bank in vm.bankList">{{bank.bankName}}</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label" style="font-weight: normal">开户行所在省</div>
                <select ng-model="vm.model.province" ng-change="vm.provinceChanged()">
                    <option value="" ng-selected="province.id == ''">请选择</option>
                    <option value="{{province}}" ng-repeat="province in vm.provinceList">{{province}}</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label" style="font-weight: normal">开户行所在市</div>
                <select ng-model="vm.model.city" ng-change="vm.cityChanged()">
                    <option value="" ng-selected="city.id == ''">请选择</option>
                    <option value="{{city}}" ng-repeat="city in vm.cityList">{{city}}</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label" style="font-weight: normal">开户行网点</div>
                <select ng-model="vm.model.bankInfoId" style="border-bottom: .5px solid #ddd">
                    <option value="" ng-selected="bankInfo.id == ''">请选择</option>
                    <option value="{{bankInfo.id}}" ng-repeat="bankInfo in vm.bankInfoList">{{bankInfo.branchName}}</option>
                </select>
            </label>
        </div>
        <div class="padding" style="padding-bottom:0px; font-size: 12px;color: #96ABBB;">
            为保证及时到账，请绑定持卡人本人的银行卡
        </div>
        <div class="padding">
            <button class="button button-block button-dblue" ng-click="vm.addBankCard()">保存并使用</button>
        </div>
    </ion-content>
</ion-view>